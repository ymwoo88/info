# SSD 새롭게 알게 된 사실! 그리고 M1칩 맥북의 이슈!
M1칩의 맥북이 나오면서 정말 사고 싶다는 생각이 많아졌다. 1세대는 혹시 모르는 문제점들이 나올 수 있기 때문에 거르고 2세대를 사려고 하루하루 힘겹게 대기하고 있는 중이다.

아니나 다를까 어느 날 테크 뉴스를 보다가 흥미로운 글을 보게되었는데 그것은 바로 "맥북 M1 SSD 수명 이슈!" 라는 제목을 가진 글이었다.  
내용을 보니 어떻게 M1칩의 맥북이 SSD의 수명을 줄어들게하는 내용을 다루고 있었는데 너무 궁금해서 이것저것 자료를 찾아보다가 이건 기록을 해봐야겠다는 생각에 적게 되었다.

### SSD는 무엇?
Solid State Drive의 약자로 고속의 보조기억장치라고 불리며 반도체 자체에 정보를 담는 거라고 보면 되겠다. 

### SSD는 수명이 있다?
놀랍게도 SSD에 수명이 있다고 한다. 우선 SSD의 수명을 나타내는 지표로는 크게 2가지가 있다고한다.  
내구성(Endruance) 관점의 TBW 및 신뢰성(Reliability) 관점의 MTBF입니다.

![image](https://user-images.githubusercontent.com/49805748/111742065-d8fa8480-88ca-11eb-83b3-247a92daf6ed.png)

### MTBF SSD 수명의 참고 수치
SSD를 사용가능한 시간 단위라고 보면 되겠다 여러 조건의 참고치를 감안해서 기간을 산정하는 건데  
이건 정말로 참고 수지로 보는 것이 좋을 듯 하다  
대략 수치로만 따져보면 Samsung의 SSD 850 EVO기준으로 1.5Mhr은 171.23년이 됩니다.

### TBW
MTBF보다 이 TBW(Tera Byte Written)수치로 좀 더 와닿게 SSD수명을 말 할 수 있을 것 같다.  
SSD는 Nand Flash Memory 특성상 데이터를 쓸 수 있는 횟수가 제한되어있다.  
대략 아래 용량별로 Data IO처리가 가능한 수치를 나타낸다.
```
120 / 250 GB : 75 TBW
500GB / 1TB : 150 TBW
2TB / 4TB : 300 TBW
```

### SSD 수명 확인방법
SSD의 수명을 확인하는 방법이 있다는 사실을 이번 기회에 알게되었다. 확인하는 Tool도 여러가지가 있다는 사실을 알게되었고 그 중에 무료이면서 널리 쓰이는 CrystalDiskInfo로 확인해보았다.  
(공식 홈페이지 : https://crystalmark.info/en/software/crystaldiskinfo/)    

참고로, Crystal Disk Info는 TBW 이외에도 SMART 정보도 출력해준다.

### M1칩?
M1칩은 SoC형태로, 대형 패키지에 여러가지 칩들을 탑재한 시스템이다.  
연산처리장치들간에 데이터를 주고 받고하는 물리적 과정이 간소화되어 데이터 복사하는 과정이 줄어들었고  
여러장치가 같은 메모리 데이터에 접근이 가능하기 때문에 성능과 전력효율이 비약적으로 상승되었다고 한다.
이외 여러가지 요인이 있지만 자세한건 검색해서 더 알아보기로 하자   

### M1칩이 SSD수명 단축하는게 왜 문제인가?
우선 SSD수명을 단축시키는 문제에 앞서 왜 이 문제가 큰 문제로 나오게 되었는가 설명을 하자면  
M1칩의 구성을보면 cpu, memory, ssd가 한칩에 들어가 있는 형태로 구성되어있다.  
그리고 애플은 메모리를 매우 아끼는 성향이 있다 메모리 증설을 하려면 평균 메모리 가격보다 훨씬 더 많은 금액을 주고 주문을 요청해야한다. 
즉 매우 비싸다는 말이고 M1칩에 문제 발생되면 보드 전체를 교체해야 할 수 도 있기 때문에 수리비용 또한 어마아마하게 나올 것으로 예상된다.  
(이것들이 애플케어를 팔아 먹으려는 속셈인지..)

### M1칩이 SSD수명을 어떻게 갈아먹는건가?
M1칩에서는 메모리가 부족한 경우 swap을 잡아서 처리를 하게 된다고 한다.  
즉, 시스템이 처리하고 있는 데이터를 저장함 메모리 공간이 충분하지 않을 때 이 swap공간에 데이터를 기록한다는 말이다.  
이 swap은 ssd의 일부영역을 메모리 영역으로 잡아 연산 시 사용되는 공간이기 때문에 ssd의 IO가 발생된다고 보면 된다.   

물론 다른 OS 리눅스나, 윈도우에서도 swap을 수동으로 설정하여 사용 할 수도 있다. 하지만 맥북M1칩에서는 사용자의 의도가 아닌 칩 자체에서 swap을 사용하고 있기 때문에  
원치 않은 swap을 사용하므로 이것이 ssd수명에 영향을 끼치게 되는 요인이 된다고 볼 수 있다.

물론 IO나 연산이 크게 발생되는 작업을 하지 않는 이상 ssd수명에 많은 영향을 끼치진 않겠지만 그렇지 않은 유저들에게는 매우 치명적인 문제라고 볼 수 있을 것 같다.

### 결론
M1칩의 맥북은 메모리 부족현상으로 ssd일부영역을 swap으로 사용함으로써 ssd의 IO를 발생하게 된다.  
ssd는 TBW IO용량 수명이 있기때문에 swap을 사용하게 될 경우 수명단축을 일으키게되는 문제로 직결된다.  
M1칩은 SoC형태로 ssd를 교체하기 어려운 구조를 가지고있어서 만약 교체를 할 시 보드전체를 갈아야 할 수 있으며 이로인해 높은 수리비용이 발생 될 수 있다는 결론이다.  
